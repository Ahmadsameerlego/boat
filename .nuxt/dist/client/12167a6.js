(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{458:function(t,e,r){t.exports=r.p+"img/Group 70332.9444af4.png"},728:function(t,e,r){"use strict";r.r(e);var n=r(667),o=r(35),c=r(17),d=r(16),l=r(0),v=(r(12),r(1),r(37),r(41),r(54),r(75),r(53),{data:function(){var t;return t={src:r(458),orders:[],providerOrders:[],providerOrders2:[],providerOrders3:[],shownOrders:[],currentPage:1,client:!1,provider:!1},Object(l.a)(t,"currentPage",1),Object(l.a)(t,"count",20),Object(l.a)(t,"pageLimit",10),Object(l.a)(t,"totalPage",0),Object(l.a)(t,"currentPageP",1),Object(l.a)(t,"countP",20),Object(l.a)(t,"pageLimitP",10),Object(l.a)(t,"totalPageP",0),t},methods:{handlePagination:function(t){this.currentPage=t,this.getUserOrders()},handlePagination2:function(t){this.currentPageP=t,this.getDelegateOrders()},getUserOrders:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/user-orders?status=inprogress&page=".concat(t.currentPage),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.orders=e.data.orders,t.totalPage=e.data.pagination.total_pages,t.currentPage=e.data.pagination.current_page,t.pageLimit=e.data.pagination.per_page}));case 2:case"end":return e.stop()}}),e)})))()},getDelegateOrders:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/delegate-orders?status=inprogress",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.providerOrders=e.data.orders}));case 2:case"end":return e.stop()}}),e)})))()},getDelegateOrders2:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/delegate-orders?status=accepted",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.providerOrders2=e.data.orders}));case 2:case"end":return e.stop()}}),e)})))()},getDelegateOrders3:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/delegate-orders?status=delivering",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.providerOrders3=e.data.orders,t.shownOrders=t.providerOrders.concat(t.providerOrders2,t.providerOrders2)}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){this.totalPage=Math.ceil(this.orders.length/this.pageLimit)},mounted:function(){1==this.client?this.getUserOrders():this.provider},fetch:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r,n,d,l,v,m,_,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.provider){e.next=19;break}return e.prev=1,e.next=4,Promise.all([t.$axios.$get("/delegate-orders?status=inprogress",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t.$axios.$get("/delegate-orders?status=accepted",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t.$axios.$get("/delegate-orders?status=delivering",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})]);case 4:r=e.sent,n=Object(c.a)(r,3),d=n[0],l=n[1],v=n[2],m=d.data.orders,_=l.data.orders,h=v.data.orders,f=[].concat(Object(o.a)(m),Object(o.a)(_),Object(o.a)(h)),t.shownOrders=f,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))()},beforeMount:function(){this.$route.fullPath.includes("client")?this.client=!0:this.$route.fullPath.includes("provider")&&(this.provider=!0)}}),m=r(46),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"orders section-pad"},[e("div",{staticClass:"container"},[e("div",{staticClass:"flex-groupme"},[e("h5",{staticClass:"main-title color-main font600 mb-5"},[t._v(" "+t._s(t.$t("allBooks"))+" ")])]),t._v(" "),t.client?e("section",[t.orders.length>0?e("div",{staticClass:"row"},t._l(t.orders,(function(r){return e("div",{key:r.id,staticClass:"col-lg-4 col-md-6 col-12 mb-3"},[e("div",{staticClass:"order-box"},[e("div",{staticClass:"order-time"},[t._v(" "+t._s(r.created_at)+" ")]),t._v(" "),e("div",{staticClass:"img-order-cont mb-2"},[e("img",{attrs:{src:r.image,alt:""}})]),t._v(" "),e("div",{staticClass:"order-num"},[t._v(" "+t._s(t.$t("order_num"))+" :"),e("span",[t._v("#"+t._s(r.id))])]),t._v(" "),e("div",{staticClass:"order-name mt-2"},[t._v("\n              "+t._s(r.user_name)+" :"),e("span",[t._v(" "+t._s(t.$t("providerName"))+" ")])]),t._v(" "),e("div",{staticClass:"order-case mt-2 mb-2"},[e("div",{staticClass:"or-flex"},[e("i",{staticClass:"fa-solid fa-drum-steelpan"}),t._v(" "),e("div",{staticClass:"or-text"},[t._v(" "+t._s(t.$t("status"))+" :")])]),t._v(" "),e("span",{staticClass:"color-main"},[t._v(" "+t._s(t.$t("active_status"))+" ")])]),t._v(" "),e("nuxt-link",{staticClass:"main-btn up mt-4 mb-3",attrs:{to:"/client/orders/"+r.id}},[t._v(" "+t._s(t.$t("OrderDetails"))+" ")])],1)])})),0):t._e(),t._v(" "),t.orders.length>0?e(n.a,{staticClass:"mt-6",attrs:{"total-visible":t.totalPage,length:t.totalPage,color:"#FF9A00"},on:{input:function(e){return t.handlePagination(e)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):e("div",{staticClass:"notFound d-flex align-items-center"},[e("font-awesome-icon",{attrs:{icon:["fas","circle-info"]}}),t._v(" "),e("p",[t._v(" "+t._s(t.$t("noBooks"))+"  ")])],1)],1):t.provider?e("section",[t.shownOrders.length>0?e("div",{staticClass:"row"},t._l(t.shownOrders,(function(r){return e("div",{key:r.id,staticClass:"col-lg-4 col-md-6 col-12 mb-3"},[e("div",{staticClass:"order-box"},[e("div",{staticClass:"order-time"},[t._v(" "+t._s(r.created_at)+" ")]),t._v(" "),e("div",{staticClass:"img-order-cont mb-2"},[e("img",{attrs:{src:r.image,alt:""}})]),t._v(" "),e("div",{staticClass:"order-name mt-2"},[t._v("\n              "+t._s(r.user_name)+" \n            ")]),t._v(" "),e("div",{staticClass:"order-num"},[t._v(t._s(t.$t("order_num"))+" :"),e("span",[t._v("#"+t._s(r.id))])]),t._v(" "),e("div",{staticClass:"order-case mt-2 mb-2"},[e("div",{staticClass:"or-flex"},[e("i",{staticClass:"fa-solid fa-drum-steelpan"}),t._v(" "),e("div",{staticClass:"or-text"},[t._v(t._s(t.$t("status"))+":")])]),t._v(" "),e("span",{staticClass:"color-main"},[t._v(" "+t._s(t.$t("active_status"))+" ")])]),t._v(" "),e("nuxt-link",{staticClass:"main-btn up mt-4 mb-3",attrs:{to:"/provider/orders/"+r.id}},[t._v(t._s(t.$t("OrderDetails")))])],1)])})),0):e("div",{staticClass:"notFound d-flex align-items-center"},[e("font-awesome-icon",{attrs:{icon:["fas","circle-info"]}}),t._v(" "),e("p",[t._v(" "+t._s(t.$t("noBooks"))+" ")])],1)]):t._e()])])}),[],!1,null,null,null);e.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{458:function(t,e,n){t.exports=n.p+"img/Group 70332.9444af4.png"},461:function(t,e,n){t.exports=n.p+"img/Rectangle 30488.a6683be.png"},463:function(t,e,n){t.exports=n.p+"img/185644495_1667380803456791_1968050560740665054_n.9bd80cd.jpg"},522:function(t,e,n){var content=n(592);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("5ffe9539",content,!0,{sourceMap:!1})},560:function(t,e,n){"use strict";n.r(e);var o,r=n(671),c=(n(23),n(0)),l=n(16),d=(n(53),n(2),n(1),n(54),n(75),n(37),n(41),n(471),n(176),n(22),{data:function(){return{src:n(461),bg:n(461),person:n(463),cities:[],showList1:!1,city_id:"",dialog:!1,locations:{lat:0,lng:0},currentLocation:{},address:"",country_key:"00966",countries:[],dropdownVisible:!1,defaultImage:"https://backend.bookaboat.app/assets/uploads/flags/96198928-39e5-4349-a8b1-35a036882ac2.png",device_type:"android",disabled:!1,phone:"",email:"",name:"",regionQuery:"",edit_avatar:n(458),changed_phone:!1,otpInput:null,oldPhone:"",fullname:"",nationality_id:null,bank_iban_number:null,bank_acc_number:"",bank_name:"",nationalities:[],nationality:""}},watch:{regionQuery:function(){""==this.regionQuery&&(this.showList1=!1)}},computed:{filteredRegions:function(){var t=this;return Array.isArray(this.cities)?this.cities.filter((function(e){return e.name.toLowerCase().includes(t.regionQuery.toLowerCase())})):(console.error("this.cities is not an array"),[])}},methods:(o={getNations:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/nationalities").then((function(e){t.nationalities=e.data.nationalities}));case 2:case"end":return e.stop()}}),e)})))()},changed:function(){this.changed_phone=!0,console.log("spe changed")},getData:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/profile/show",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.name=e.data.user.name,t.phone=e.data.user.phone,t.email=e.data.user.email,t.regionQuery=e.data.user.city,t.city_id=e.data.user.city_id,t.edit_avatar=e.data.user.avatar,t.country_key=e.data.user.country_key,t.address=e.data.user.address,t.locations={lat:parseFloat(e.data.user.lat),lng:parseFloat(e.data.user.long)},t.bank_name=e.data.user.bank_name,t.bank_acc_number=e.data.user.bank_acc_number,t.nationality_id=e.data.user.nationality_id,t.nationality=e.data.user.nationality,t.bank_iban_number=e.data.user.bank_iban_number,t.phoneChanged=t.phone}));case 2:case"end":return e.stop()}}),e)})))()},update:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.disabled=!0,(n=new FormData(t.$refs.regForm)).append("phone",t.phone),n.append("name",t.name),n.append("country_key",t.country_key),n.append("email",t.email),n.append("address",t.address),n.append("bank_name",t.bank_name),n.append("bank_acc_number",t.bank_acc_number),n.append("bank_iban_number",t.bank_iban_number),n.append("lat",t.locations.lat),n.append("long",t.locations.lng),n.append("city_id",t.city_id),e.next=15,t.$axios.$post("/profile/update",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){if("success"==e.key){var n=JSON.stringify(e.data.user);localStorage.setItem("user",n),localStorage.setItem("phone",t.phone),"true"==t.changed_phone?t.changed_phone=!0:"false"==t.changed_phone&&t.$nextTick((function(){t.changed_phone=!1})),t.changed_phone||t.$swal("","".concat(e.msg),"success")}else t.$swal("","".concat(e.msg),"error");t.disabled=!1}));case 15:case"end":return e.stop()}}),e)})))()},geolocation:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.locations={lat:e.coords.latitude,lng:e.coords.longitude}}))},onMarkerDragEnd:function(t){var e=this,n=t.event.latLng.lat(),o=t.event.latLng.lng();this.locations={lat:n,lng:o};var r=t.event.latLng;(new window.google.maps.Geocoder).geocode({location:r},(function(t,n){"OK"===n?e.address=t[0].formatted_address:console.error("Geocode was not successful for the following reason: "+n)}))},uploadImage:function(t){var e=t.target.files[0];this.edit_avatar=URL.createObjectURL(e)},setNewValueForRegion:function(t,e){this.regionQuery=t,this.city_id=e,this.regionQuery==t&&(this.showList1=!1)},getCity:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/cities").then((function(e){t.cities=e.data.cities}));case 2:case"end":return e.stop()}}),e)})))()},getCounrtyKey:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("countries").then((function(e){t.countries=e.data.countries}));case 2:case"end":return e.stop()}}),e)})))()},getCities:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.showList1=!0;case 1:case"end":return e.stop()}}),e)})))()},showList:function(){this.showList1=!0},showMapDialog:function(){this.dialog=!0},toggleDropdown:function(){this.dropdownVisible=!this.dropdownVisible},selectOption:function(option){this.country_key=option.calling_code,this.defaultImage=option.flag,this.dropdownVisible=!this.dropdownVisible}},Object(c.a)(o,"toggleDropdown",(function(){this.dropdownVisible=!this.dropdownVisible})),Object(c.a)(o,"selectOption",(function(option){this.country_key=option.calling_code,this.defaultImage=option.flag,this.dropdownVisible=!this.dropdownVisible})),Object(c.a)(o,"sendOtp",(function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.disabled=!0,n=new FormData,o=JSON.stringify(t.$refs.otp.otp.join("")),r=JSON.parse(o),n.append("code",r),e.next=7,t.$axios.$post("/profile/changed-phone-activation",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"==e.key?(t.getData(),t.$swal("","".concat(e.msg),"success"),t.changed_phone=!1):t.$swal("","".concat(e.msg),"error"),t.disabled=!1}));case 7:case"end":return e.stop()}}),e)})))()})),Object(c.a)(o,"resendCode",(function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("phone",localStorage.getItem("phone")),e.next=4,t.$axios.$post("/code/resend",n).then((function(e){"success"==e.key?(t.getData(),t.$swal("","".concat(e.msg),"success")):t.$swal("","".concat(e.msg),"error")}));case 4:case"end":return e.stop()}}),e)})))()})),o),mounted:function(){this.getCity(),this.getCounrtyKey(),this.getData(),this.geolocation(),this.getNations()}}),m=(n(591),n(46)),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("b-card",{attrs:{"no-body":""}},[e("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"flex-bet all-qestion m-1",attrs:{role:"tab"}},[e("div",{staticClass:"flex-qet-me"},[e("div",{staticClass:"icon-faq color-main"},[e("font-awesome-icon",{attrs:{icon:["fas","user"]}})],1),t._v(" "),e("div",{staticClass:"full-q"},[t._v(" "+t._s(t.$t("personalTitle"))+" ")])]),t._v(" "),e("div",{staticClass:"dafeult-faq-icon"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-left"]}})],1)]),t._v(" "),e("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[e("div",{staticClass:"parent-profile"},[e("form",{ref:"regForm",on:{submit:function(e){return e.preventDefault(),t.update.apply(null,arguments)}}},[e("div",{staticClass:"col-md-10 col-12 margin-auto"},[e("div",{staticClass:"img-regester-cont mb-4 mt-3"},[e("label",{staticClass:"img-edit",attrs:{for:"img-up"}},[e("input",{attrs:{name:"avatar",type:"file",id:"img-up",hidden:"",accept:"image/*"},on:{change:t.uploadImage}}),t._v(" "),e("font-awesome-icon",{attrs:{icon:["fas","pen-to-square"]}})],1),t._v(" "),e("img",{attrs:{id:"change-profile",src:t.edit_avatar,alt:""}})]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("userName"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("fillUserName"),name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","user"]}})],1)])])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("profilePhone"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],ref:"phoneNum",staticClass:"inp-spe-tele",attrs:{type:"number",id:"telephone",placeholder:t.$t("fillPhoneNumber"),name:"phone"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},function(e){return t.changed()}]}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","mobile-screen-button"]}})],1),t._v(" "),e("div",{staticClass:"country_select"},[e("div",{staticClass:"selected-option",on:{click:t.toggleDropdown}},[e("img",{attrs:{src:t.defaultImage,alt:"Option Image"}}),t._v(" "),e("span",[t._v(t._s(t.country_key))])]),t._v(" "),t.dropdownVisible?e("div",{staticClass:"options-container"},t._l(t.countries,(function(option){return e("div",{key:option.id,staticClass:"option",on:{click:function(e){return t.selectOption(option)}}},[e("img",{attrs:{src:option.flag,alt:"Option Image"}}),t._v(" "),e("span",[t._v(t._s(option.calling_code))])])})),0):t._e()])])])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("emailProfile"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("emailPlace"),name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","envelope"]}})],1)])])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("City"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("div",{staticClass:"position-relative w-100"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.regionQuery,expression:"regionQuery"}],staticClass:"inp-spe-tele",attrs:{type:"text",name:"query",placeholder:t.$t("cityPlace")},domProps:{value:t.regionQuery},on:{input:[function(e){e.target.composing||(t.regionQuery=e.target.value)},function(e){return t.getCities()}],focus:t.showList}}),t._v(" "),t.showList1?e("div",{staticStyle:{position:"absolute",width:"100%",height:"200px","overflow-y":"auto",top:"50px","z-index":"999"}},[t.filteredRegions.length>0?e("ul",{staticClass:"list-group",staticStyle:{"z-index":"9999"}},t._l(t.filteredRegions,(function(n,o){return e("li",{key:n.id,staticClass:"list-group-item"},[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.setNewValueForRegion(n.name,n.id)}}},[t._v("\n                            "+t._s(o+1)+"."+t._s(n.name)+"\n                          ")])])})),0):e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[t._v(" "+t._s(t.$t("noCountry"))+" ")])])]):t._e()]),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","location-dot"]}})],1),t._v(" "),e("div",{staticClass:"icon-float2"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)])])]),t._v(" "),e("div",{staticClass:"col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("chooseLocation"))+"   ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-44",modifiers:{"modal-44":!0}}],staticClass:"inp-spe-tele",attrs:{type:"text",name:"",placeholder:t.$t("chooseLocation")},domProps:{value:t.address},on:{input:t.showMapDialog}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","location-dot"]}})],1),t._v(" "),e("b-modal",{attrs:{id:"modal-44"}},[e("GMap",{ref:"map",attrs:{language:"en",center:t.locations,zoom:10}},[e("GMapMarker",{attrs:{clickable:!0,position:t.locations,options:{draggable:!0}},on:{mouseover:function(e){return t.onMarkerDragEnd(e)}}})],1)],1)],1)])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("profBankName"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_name,expression:"bank_name"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("bankName"),name:"bank_name"},domProps:{value:t.bank_name},on:{input:function(e){e.target.composing||(t.bank_name=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","money-bills"]}})],1)])])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("profBankNumber"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_acc_number,expression:"bank_acc_number"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("bankNumber"),name:"bank_acc_number"},domProps:{value:t.bank_acc_number},on:{input:function(e){e.target.composing||(t.bank_acc_number=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","money-check-dollar"]}})],1)])])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("ibanNumber"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_iban_number,expression:"bank_iban_number"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("ibanPlace"),name:"bank_iban_number"},domProps:{value:t.bank_iban_number},on:{input:function(e){e.target.composing||(t.bank_iban_number=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","money-check-dollar"]}})],1)])])]),t._v(" "),e("div",{staticClass:"col-md-6 col-12 mb-3"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("nation"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("select",{staticClass:"main-select",attrs:{name:"nationality_id",id:""}},[e("option",{attrs:{selected:"",hidden:"",disabled:""},domProps:{value:t.nationality_id}},[t._v("\n                      "+t._s(t.nationality)+"\n                    ")]),t._v(" "),t._l(t.nationalities,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(" "+t._s(n.name)+" ")])}))],2),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","earth-americas"]}})],1),t._v(" "),e("div",{staticClass:"icon-float2"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)])])]),t._v(" "),t.changed_phone?e("b-modal",{attrs:{id:"modal-2"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"p-0"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendOtp.apply(null,arguments)}}},[e("div",{staticClass:"login-box mt-3"},[e("div",{staticClass:"login-img text-center mt-2"},[e("img",{attrs:{src:t.src,alt:""}})]),t._v(" "),e("div",{staticClass:"title-login text-center mt-3"},[t._v("\n                        "+t._s(t.$t("activationCode"))+"\n                      ")]),t._v(" "),e("div",{staticClass:"under-title mb-3 text-center mt-2"},[t._v("\n                        "+t._s(t.$t("sendingActivationCode"))+"\n                      ")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 margin-auto"},[e("div",{staticClass:"code-container"},[e(r.a,{directives:[{name:"modal",rawName:"v-modal",value:t.otpInput,expression:"otpInput"}],ref:"otp",attrs:{length:"6",name:"otpInput"}})],1),t._v(" "),e("div",{staticClass:"dont-have"},[t._v("\n                            "+t._s(t.$t("didNotReceiveCode"))+"\n                            "),e("button",{staticClass:"resent-btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.resendCode.apply(null,arguments)}}},[t._v("\n                              "+t._s(t.$t("resendCode"))+"\n                            ")])]),t._v(" "),e("div",{staticClass:"mt-4"},[e("button",{staticClass:"main-btn up mb-2",attrs:{id:"formsub",disabled:t.disabled}},[t._v("\n                              "+t._s(t.$t("certain"))+"\n                              "),t.disabled?e("div",{staticClass:"spinner-border",attrs:{role:"status"}}):t._e()])])])])])])])])]):t._e(),t._v(" "),e("div",{staticClass:"flex-groupme w-100"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-2",modifiers:{"modal-2":!0}}],staticClass:"btn-main up lg",attrs:{type:"submit",disabled:t.disabled}},[t._v("\n                "+t._s(t.$t("saveChanges"))+"\n                "),t.disabled?e("div",{staticClass:"spinner-border",attrs:{role:"status"}}):t._e()])])],1)])])])])],1)}),[],!1,null,null,null);e.default=component.exports},591:function(t,e,n){"use strict";n(522)},592:function(t,e,n){var o=n(67)((function(i){return i[1]}));o.push([t.i,".modal-footer{display:none}.selected-option{align-items:center;border:1px solid #ccc;border-radius:5px;cursor:pointer;display:flex;padding:12px}.selected-option img{height:24px;margin-right:8px;width:24px}.options-container{background-color:#fff;border:1px solid #ccc;box-shadow:0 2px 4px rgba(0,0,0,.2);cursor:pointer;left:0;max-height:200px;overflow-y:auto;position:absolute;top:100%;width:100%;z-index:1}.option{align-items:center;display:flex;padding:8px}.option img{height:24px;margin-right:8px;width:24px}.option:hover{background-color:#f5f5f5}.country_select{height:51px;left:0;position:absolute;top:0;width:100px!important}",""]),o.locals={},t.exports=o}}]);
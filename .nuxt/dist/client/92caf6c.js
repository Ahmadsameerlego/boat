(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{458:function(t,e,r){t.exports=r.p+"img/Group 70332.9444af4.png"},732:function(t,e,r){"use strict";r.r(e);var n=r(667),o=r(16),c=r(0),l=(r(54),r(75),r(53),{data:function(){var t;return t={src:r(458),orders:[],providerOrders:[],currentPage:1,client:!1,provider:!1,order_id:""},Object(c.a)(t,"currentPage",1),Object(c.a)(t,"count",20),Object(c.a)(t,"pageLimit",10),Object(c.a)(t,"totalPage",0),Object(c.a)(t,"currentPageP",1),Object(c.a)(t,"countP",20),Object(c.a)(t,"pageLimitP",10),Object(c.a)(t,"totalPageP",0),t},methods:{handlePagination:function(t){this.currentPage=t,this.getUserOrders()},handlePagination2:function(t){this.currentPageP=t,this.getDelegateOrders()},getUserOrders:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/user-orders?status=open&page=".concat(t.currentPage),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.orders=e.data.orders,t.totalPage=e.data.pagination.total_pages,t.currentPage=e.data.pagination.current_page,t.pageLimit=e.data.pagination.per_page}));case 2:case"end":return e.stop()}}),e)})))()},getDelegateOrders:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/delegate-orders?status=open",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t.providerOrders=e.data.orders,t.totalPageP=e.data.pagination.total_pages,t.currentPageP=e.data.pagination.current_page,t.pageLimitP=e.data.pagination.per_page}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){this.totalPage=Math.ceil(this.orders.length/this.pageLimit),this.totalPageP=Math.ceil(this.providerOrders.length/this.pageLimitP)},beforeMount:function(){this.$route.fullPath.includes("client")?this.client=!0:this.$route.fullPath.includes("provider")&&(this.provider=!0)},mounted:function(){1==this.client?this.getUserOrders():1==this.provider&&this.getDelegateOrders()}}),d=r(46),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"orders section-pad"},[e("div",{staticClass:"container"},[e("div",{staticClass:"flex-groupme"},[e("h5",{staticClass:"main-title color-main font600 mb-5"},[t._v(t._s(t.$t("allBooks")))])]),t._v(" "),t.client?e("section",[t.orders.length>0?e("div",{staticClass:"row"},t._l(t.orders,(function(r){return e("div",{key:r.id,staticClass:"col-lg-4 col-md-6 col-12 mb-3"},[e("div",{staticClass:"order-box"},[e("div",{staticClass:"order-time"},[t._v(" "+t._s(r.created_at)+" ")]),t._v(" "),e("div",{staticClass:"img-order-cont mb-2"},[e("img",{attrs:{src:r.image,alt:""}})]),t._v(" "),e("div",{staticClass:"order-num"},[t._v(t._s(t.$t("order_num"))+" :"),e("span",[t._v("#"+t._s(r.id))])]),t._v(" "),e("div",{staticClass:"order-name mt-2"},[t._v("\n              "+t._s(r.user_name)+" :"),e("span",[t._v(t._s(t.$t("providerName")))])]),t._v(" "),e("div",{staticClass:"order-case mt-2 mb-2"},[e("div",{staticClass:"or-flex"},[e("i",{staticClass:"fa-solid fa-drum-steelpan"}),t._v(" "),e("div",{staticClass:"or-text"},[t._v(t._s(t.$t("status"))+":")])]),t._v(" "),e("span",{staticClass:"color-main"},[t._v(" "+t._s(t.$t("newBook"))+" ")])]),t._v(" "),e("nuxt-link",{staticClass:"main-btn up mt-4 mb-3",attrs:{to:"/client/orders/"+r.id}},[t._v(t._s(t.$t("OrderDetails")))])],1)])})),0):t._e(),t._v(" "),t.orders.length>0?e(n.a,{staticClass:"mt-6",attrs:{"total-visible":t.totalPage,length:t.totalPage,color:"#FF9A00"},on:{input:function(e){return t.handlePagination(e)}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):e("div",{staticClass:"notFound d-flex align-items-center"},[e("font-awesome-icon",{attrs:{icon:["fas","circle-info"]}}),t._v(" "),e("p",[t._v(" "+t._s(t.$t("noBooks"))+" ")])],1)],1):t.provider?e("section",[t.providerOrders.length>0?e("div",{staticClass:"row"},t._l(t.providerOrders,(function(r){return e("div",{key:r.id,staticClass:"col-lg-4 col-md-6 col-12 mb-3"},[e("div",{staticClass:"order-box"},[e("div",{staticClass:"order-time"},[t._v(" "+t._s(r.created_at)+" ")]),t._v(" "),e("div",{staticClass:"img-order-cont mb-2"},[e("img",{attrs:{src:r.image,alt:""}})]),t._v(" "),e("div",{staticClass:"order-num text-center mt-2"},[t._v("\n              "+t._s(r.user_name)+" \n            ")]),t._v(" "),e("h6",{staticClass:"text-center"},[t._v("رقم الطلب :"),e("span",[t._v("#"+t._s(r.id))])]),t._v(" "),t._m(0,!0),t._v(" "),e("nuxt-link",{staticClass:"main-btn up mt-4 mb-3",attrs:{to:"/provider/orders/"+r.id}},[t._v(t._s(t.$t("OrderDetails")))])],1)])})),0):t._e(),t._v(" "),t.providerOrders.length>0?e(n.a,{staticClass:"mt-6",attrs:{"total-visible":t.totalPageP,length:t.totalPageP,color:"#FF9A00"},on:{input:function(e){return t.handlePagination2(e)}},model:{value:t.currentPageP,callback:function(e){t.currentPageP=e},expression:"currentPageP"}}):e("div",{staticClass:"notFound d-flex align-items-center"},[e("font-awesome-icon",{attrs:{icon:["fas","circle-info"]}}),t._v(" "),e("p",[t._v(" "+t._s(t.$t("noBooks"))+" ")])],1)],1):t._e()])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"order-case text-center justify-content-center mt-2 mb-2"},[e("div",{staticClass:"or-flex text-center"},[e("i",{staticClass:"fa-solid fa-drum-steelpan"}),t._v(" "),e("div",{staticClass:"or-text text-center"},[t._v("الحالة:")])]),t._v(" "),e("span",{staticClass:"color-main text-center"},[t._v(" حجز جديد ")])])}],!1,null,null,null);e.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{533:function(t,e,n){var content=n(622);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("2c34ff22",content,!0,{sourceMap:!1})},621:function(t,e,n){"use strict";n(533)},622:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".modal-footer[data-v-16c33ddd]{display:none!important}",""]),r.locals={},t.exports=r},720:function(t,e,n){"use strict";n.r(e);n(14),n(2),n(1),n(23);var r=n(16),o=n(0),c=(n(53),n(43),{data:function(){var t;return t={name_ar:"",name_en:"",paid_name_ar:"",paid_name_en:"",free_additives:[],free:[],paids:[],paidAdds:!1,freeAdds:!0,offers:!1,price:null,disabled2:!1,disabled5:!1,disabled:!1,durations:[]},Object(o.a)(t,"price",null),Object(o.a)(t,"duration",""),Object(o.a)(t,"duration_price",null),Object(o.a)(t,"clientDurations",[]),Object(o.a)(t,"clientOffers",[]),Object(o.a)(t,"trips_types",[]),Object(o.a)(t,"trip_type",""),Object(o.a)(t,"offer_price",null),Object(o.a)(t,"finish_date",null),Object(o.a)(t,"sendedDurations",[]),Object(o.a)(t,"sendedOffers",[]),Object(o.a)(t,"durationId",""),Object(o.a)(t,"selectedDuration",{}),Object(o.a)(t,"selectedOffer",{}),Object(o.a)(t,"disabled",!1),t},watch:{duration:function(){var t=this;this.selectedDuration=this.durations.filter((function(e){return e.id==t.duration}))},trip_type:function(){var t=this;this.selectedOffer=this.trips_types.filter((function(e){return e.id==t.trip_type}))}},methods:{getDurations:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/durations").then((function(e){t.durations=e.data.durations}));case 2:case"end":return e.stop()}}),e)})))()},getTripsTypes:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/trip-types").then((function(e){t.trips_types=e.data.trip_types}));case 2:case"end":return e.stop()}}),e)})))()},addDuration:function(){this.clientDurations.push({duration_id:this.duration,duration:this.selectedDuration[0].time,price:this.duration_price}),this.duration=null,this.duration_price=""},removeDuration:function(t){this.clientDurations=this.clientDurations.filter((function(e){return e.price!==t}))},addOffer:function(){this.clientOffers.push({trip_type_id:this.trip_type,trip_type:this.selectedOffer[0].name,price:this.offer_price,finish_date:this.finish_date}),this.trip_type=null,this.offer_price=null,this.finish_date=null,console.log(this.clientOffers)},removeOffer:function(t){this.clientOffers=this.clientOffers.filter((function(e){return e.price!==t}))},AppendFeatures:function(){this.free.push({name_ar:this.name_ar,name_en:this.name_en}),this.name_ar="",this.name_en=""},AppendPaidFeatures:function(){this.paids.push({name_ar:this.paid_name_ar,name_en:this.paid_name_en,price:this.price}),this.paid_name_ar="",this.paid_name_en="",this.price=null},removeItem:function(t){this.free=this.free.filter((function(e){return e.name_ar!==t}))},removePaidItem:function(t){this.paids=this.paids.filter((function(e){return e.price!==t}))},addFreeFeature:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("product_id",t.$route.params.id),0==t.free.length?n.append("additives",JSON.stringify(t.freeAdditives)):n.append("additives",JSON.stringify(t.free)),e.next=5,t.$axios.$post("/post-free-additives",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"==e.key?(t.$swal("","".concat(e.msg),"success"),t.name_ar="",t.name_en="",setTimeout((function(){t.$emit("updateFeature")}),2e3),t.paidAdds=!0,t.freeAdds=!1):t.$swal("","".concat(e.msg),"error")}));case 5:case"end":return e.stop()}}),e)})))()},addPaifFreeFeature:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.disabled2=!0,(n=new FormData).append("product_id",t.$route.params.id),0==t.paids.length?n.append("additives",JSON.stringify(t.additives)):n.append("additives",JSON.stringify(t.paids)),e.next=6,t.$axios.$post("/post-additives",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"==e.key?(t.$swal("","".concat(e.msg),"success"),t.name_ar="",t.name_en="",setTimeout((function(){t.$emit("updateFeature")}),2e3),t.paidAdds=!1,t.offers=!0):t.$swal("","".concat(e.msg),"error"),t.disabled2=!1}));case 6:case"end":return e.stop()}}),e)})))()},sendOffer:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.disabled5=!0,(n=new FormData).append("product_id",t.$route.params.id),n.append("price",t.price),i=0;i<t.clientDurations.length;i++)t.sendedDurations.push({id:t.clientDurations[i].duration_id,price:t.clientDurations[i].price});for(n.append("durations",JSON.stringify(t.sendedDurations)),r=0;r<t.clientOffers.length;r++)t.sendedOffers.push({id:t.clientOffers[r].trip_type_id,price:t.clientOffers[r].price,finish_date:t.clientOffers[r].finish_date});return n.append("offers",JSON.stringify(t.sendedOffers)),e.next=10,t.$axios.$post("/post-offers",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"==e.key?(t.$swal("","".concat(e.msg),"success"),t.$emit("closeModal"),setTimeout((function(){location.reload()}),2e3)):t.$swal("","".concat(e.msg),"error"),t.disabled5=!1}));case 10:case"end":return e.stop()}}),e)})))()}},props:{freeAdditives:Array,specialOffers:Array,offers2:Array,additives:Array},mounted:function(){this.free=this.freeAdditives,this.paids=this.additives,this.clientDurations=this.specialOffers,this.clientOffers=this.offers2,console.log(this.sendedDurations)},beforeMount:function(){this.getDurations(),this.getTripsTypes()}}),d=(n(621),n(46)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("main",[t.freeAdds?e("section",[e("h5",{staticClass:"mt-4 text-center"},[t._v(" "+t._s(t.$t("editFeat2"))+" ")]),t._v(" "),e("div",{staticClass:"p-4"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.AppendFeatures.apply(null,arguments)}}},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("featureArabic"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name_ar,expression:"name_ar"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("arabicPlace"),name:"name_ar",required:""},domProps:{value:t.name_ar},on:{input:function(e){e.target.composing||(t.name_ar=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("featureEn"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name_en,expression:"name_en"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("enPlace"),name:"name_en",required:""},domProps:{value:t.name_en},on:{input:function(e){e.target.composing||(t.name_en=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"right-just-flex mt-3 d-flex justify-content-end"},[e("button",{staticClass:"btn-main up lg"},[t._v(" "+t._s(t.$t("addFeat"))+" ")])]),t._v(" "),e("div",{staticClass:"attrs mt-3"},[e("div",{staticClass:"attrs-head"},[t._v(" "+t._s(t.$t("addedFeats"))+" ")]),t._v(" "),t.free.length>0?e("section",t._l(t.free,(function(n){return e("div",{key:n.id,staticClass:"attr-loop d-flex justify-content-between align-items-center"},[e("div",{staticClass:"attr-name"},[t._v(" "+t._s(n.name_ar)+" ")]),t._v(" "),e("button",{staticClass:"attr-remove text-danger",attrs:{type:"button"},on:{click:function(e){return t.removeItem(n.name_ar)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])})),0):e("section",[e("div",{staticClass:"d-flex justify-content-center align-items-center"},[t._v(" "+t._s(t.$t("addFeatureShow"))+" ")])])]),t._v(" "),e("div",{staticClass:"flex-groupme"},[e("button",{staticClass:"main-btn up mt-4 wid-85",attrs:{type:"button"},on:{click:t.addFreeFeature}},[t._v("\n                  "+t._s(t.$t("next"))+"\n                ")])])])])]):t._e(),t._v(" "),t.paidAdds?e("section",[e("h5",{staticClass:"mt-4 text-center"},[t._v(" "+t._s(t.$t("editFeat3"))+" ")]),t._v(" "),e("div",{staticClass:"p-4"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.AppendPaidFeatures.apply(null,arguments)}}},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("featureArabic"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.paid_name_ar,expression:"paid_name_ar"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("arabicPlace"),name:"paid_name_ar",required:""},domProps:{value:t.paid_name_ar},on:{input:function(e){e.target.composing||(t.paid_name_ar=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n                  "+t._s(t.$t("featureEn"))+"\n                ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.paid_name_en,expression:"paid_name_en"}],staticClass:"inp-spe-tele",attrs:{type:"text",placeholder:t.$t("enPlace"),name:"paid_name_en",required:""},domProps:{value:t.paid_name_en},on:{input:function(e){e.target.composing||(t.paid_name_en=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("featurePrice"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("pricePlace1"),name:"price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"right-just-flex mt-3 d-flex justify-content-end"},[e("button",{staticClass:"btn-main up lg"},[t._v("\n                  "+t._s(t.$t("addFeat"))+"\n                ")])]),t._v(" "),e("div",{staticClass:"attrs mt-3"},[e("div",{staticClass:"attrs-head"},[t._v(" "+t._s(t.$t("addedFeats"))+" ")]),t._v(" "),t.paids.length>0?e("section",t._l(t.paids,(function(n){return e("div",{key:n,staticClass:"attr-loop d-flex justify-content-between align-items"},[e("div",{staticClass:"attr-name"},[t._v(" "+t._s(n.name_ar)+" ")]),t._v(" "),e("div",{staticClass:"attr-price color-main"},[t._v(" "+t._s(n.price)+" ر.س ")]),t._v(" "),e("button",{staticClass:"attr-remove text-danger",attrs:{type:"button"},on:{click:function(e){return t.removePaidItem(n.price)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])})),0):e("section",[e("div",{staticClass:"attr-name d-flex justify-content-center"},[t._v(" "+t._s(t.$t("addFeatureShow"))+" ")])])]),t._v(" "),e("div",{staticClass:"flex-groupme"},[e("button",{staticClass:"main-btn up mt-4 wid-85",attrs:{type:"button",disabled:t.disabled2},on:{click:t.addPaifFreeFeature}},[t._v("\n                  "+t._s(t.$t("next"))+"\n                ")])])])])]):t._e(),t._v(" "),t.offers?e("section",[e("h5",{staticClass:"mt-4 text-center"},[t._v(" "+t._s(t.$t("editPrices"))+" ")]),t._v(" "),e("div",{staticClass:"p-4"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("hourPrice"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("hourPlace"),name:"price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.addDuration.apply(null,arguments)}}},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("duration"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"main-select",attrs:{name:"duration",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.duration=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"",selected:"",hidden:"",disabled:""}},[t._v("\n                  "+t._s(t.$t("durationPlace"))+"\n                ")]),t._v(" "),t._l(t.durations,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(" "+t._s(t.$t("from"))+" "+t._s(n.start)+" "+t._s(t.$t("to"))+" "+t._s(n.end)+" ")])}))],2),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","location-dot"]}})],1),t._v(" "),e("div",{staticClass:"icon-float2"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("price"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.duration_price,expression:"duration_price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("durationPrice"),name:"duration_price",required:""},domProps:{value:t.duration_price},on:{input:function(e){e.target.composing||(t.duration_price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"right-just-flex mt-3 d-flex justify-content-end"},[e("button",{staticClass:"btn-main up lg"},[t._v("\n              "+t._s(t.$t("addDuration"))+"\n            ")])])]),t._v(" "),e("div",{staticClass:"times-box mt-4 mb-4"},[t.clientDurations.length>0?e("section",[e("h6",[t._v(" "+t._s(t.$t("addedFeats2"))+" ")]),t._v(" "),t._l(t.clientDurations,(function(n){return e("div",{key:n.duration_id,staticClass:"times-row-loop color-main d-flex justify-content-between"},[e("div",{staticClass:"time-price"},[t._v(" "+t._s(n.price)+" ر.س")]),t._v(" "),e("div",{staticClass:"time-price"},[t._v("  "+t._s(n.duration)+"  ")]),t._v(" "),e("button",{staticClass:"attr-remove text-danger",attrs:{type:"button"},on:{click:function(e){return t.removeDuration(n.price)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])}))],2):e("section",[e("p",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("addedFeaEdi"))+" ")])])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.addOffer.apply(null,arguments)}}},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("tripType"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.trip_type,expression:"trip_type"}],staticClass:"main-select",attrs:{name:"trip_type",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.trip_type=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"",selected:"",hidden:"",disabled:""}},[t._v("\n                  "+t._s(t.$t("DatePlace"))+"\n                ")]),t._v(" "),t._l(t.trips_types,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(" "+t._s(n.name)+" ")])}))],2),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","location-dot"]}})],1),t._v(" "),e("div",{staticClass:"icon-float2"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("price"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.offer_price,expression:"offer_price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("pricePlace"),name:"offer_price",required:""},domProps:{value:t.offer_price},on:{input:function(e){e.target.composing||(t.offer_price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n              "+t._s(t.$t("offerEnd"))+"\n            ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.finish_date,expression:"finish_date"}],staticClass:"inp-spe-tele",attrs:{type:"date",placeholder:t.$t("offerEnd"),name:"finish_date",required:""},domProps:{value:t.finish_date},on:{input:function(e){e.target.composing||(t.finish_date=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"right-just-flex mt-3 d-flex justify-content-end"},[e("button",{staticClass:"btn-main up lg"},[t._v("\n            "+t._s(t.$t("addOffer"))+"\n          ")])])]),t._v(" "),e("div",{staticClass:"times-box mt-4 mb-4"},[e("section",[e("h6",[t._v(" "+t._s(t.$t("addedFeats2"))+" ")]),t._v(" "),e("div",{staticClass:"table-offer table-offer2 font13"},[e("table",{staticClass:"table",attrs:{id:"myTable"}},[e("thead",[e("tr",[e("th",[t._v(" "+t._s(t.$t("tripType"))+" ")]),t._v(" "),e("th",[t._v(t._s(t.$t("price"))+"  ")]),t._v(" "),e("th",[t._v(" "+t._s(t.$t("offerEnd"))+" ")]),t._v(" "),e("th")])]),t._v(" "),t.clientOffers.length>0?e("tbody",t._l(t.clientOffers,(function(n){return e("tr",{key:n.trip_type_id},[e("td",[e("span",{staticClass:"gray-col"},[t._v(" "+t._s(n.trip_type)+" ")])]),t._v(" "),e("td",[e("span",{staticClass:"gray-col"},[t._v(" "+t._s(n.price)+" ر.س / ساعة")])]),t._v(" "),e("td",{staticClass:"gray-col"},[t._v(" "+t._s(n.finish_date)+" ")]),t._v(" "),e("td",{staticClass:"red-col"},[e("button",{staticClass:"attr-remove text-danger",attrs:{type:"button"},on:{click:function(e){return t.removeOffer(n.price)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])})),0):e("div",{staticClass:"d-flex justify-content-center"},[e("p",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("offerEdi"))+" ")])])])])])]),t._v(" "),e("div",{staticClass:"flex-groupme"},[e("button",{staticClass:"main-btn up mt-4 wid-85",attrs:{disabled:t.disabled5},on:{click:function(e){return e.preventDefault(),t.sendOffer.apply(null,arguments)}}},[t._v("\n            "+t._s(t.$t("certain"))+"\n          ")])])])]):t._e()])}),[],!1,null,"16c33ddd",null);e.default=component.exports}}]);
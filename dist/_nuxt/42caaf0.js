(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{721:function(t,e,n){"use strict";n.r(e);n(14),n(2),n(1),n(23);var r=n(16),o=(n(53),n(43),{data:function(){return{durations:[],price:null,duration:"",duration_price:null,clientDurations:[],clientOffers:[],trips_types:[],trip_type:"",offer_price:null,finish_date:null,sendedDurations:[],sendedOffers:[],durationId:"",selectedDuration:{},selectedOffer:{},disabled:!1}},watch:{duration:function(){var t=this;this.selectedDuration=this.durations.filter((function(e){return e.id==t.duration}))},trip_type:function(){var t=this;this.selectedOffer=this.trips_types.filter((function(e){return e.id==t.trip_type}))}},methods:{sendOffer:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.disabled=!0,(n=new FormData).append("product_id",t.$route.params.id),n.append("price",t.price),n.append("durations",JSON.stringify(t.sendedDurations)),n.append("offers",JSON.stringify(t.sendedOffers)),e.next=8,t.$axios.$post("/post-offers",n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"==e.key?(t.$swal("","".concat(e.msg),"success"),document.getElementById("modal-2").style.display="none",document.getElementById("modal-2___BV_modal_backdrop_").style.display="none",setTimeout((function(){location.reload()}),2e3)):t.$swal("","".concat(e.msg),"error"),t.disabled=!1}));case 8:case"end":return e.stop()}}),e)})))()},getDurations:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/durations").then((function(e){t.durations=e.data.durations}));case 2:case"end":return e.stop()}}),e)})))()},getTripsTypes:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/trip-types").then((function(e){t.trips_types=e.data.trip_types}));case 2:case"end":return e.stop()}}),e)})))()},addDuration:function(){this.clientDurations.push({duration:this.selectedDuration[0].time,price:this.duration_price}),this.sendedDurations.push({id:this.duration,price:this.duration_price}),this.duration=null,this.duration_price=""},removeDuration:function(t){this.clientDurations=this.clientDurations.filter((function(e){return e.price!==t}))},addOffer:function(){this.clientOffers.push({trip_type:this.selectedOffer[0].name,price:this.offer_price,finish_date:this.finish_date}),this.sendedOffers.push({id:this.trip_type,price:this.offer_price,finish_date:this.finish_date}),this.trip_type=null,this.offer_price=null,this.finish_date=null},removeOffer:function(t){this.clientOffers=this.clientOffers.filter((function(e){return e.price!==t}))}},mounted:function(){this.getDurations(),this.getTripsTypes()}}),c=n(46),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("main",[e("h5",{staticClass:"mt-4 text-center"},[t._v(" "+t._s(t.$t("addPrices"))+" ")]),t._v(" "),e("div",{staticClass:"p-4"},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("hourPrice"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("hourPlace"),name:"price",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.addDuration.apply(null,arguments)}}},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("duration"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"main-select",attrs:{name:"duration",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.duration=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"",selected:"",hidden:"",disabled:""}},[t._v("\n                  "+t._s(t.$t("durationPlace"))+"\n                ")]),t._v(" "),t._l(t.durations,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(" "+t._s(t.$t("from"))+" "+t._s(n.start)+" "+t._s(t.$t("to"))+" "+t._s(n.end)+" ")])}))],2),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","location-dot"]}})],1),t._v(" "),e("div",{staticClass:"icon-float2"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("price"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.duration_price,expression:"duration_price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("durationPrice"),name:"duration_price",required:""},domProps:{value:t.duration_price},on:{input:function(e){e.target.composing||(t.duration_price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"right-just-flex mt-3 d-flex justify-content-end"},[e("button",{staticClass:"btn-main up lg"},[t._v("\n              "+t._s(t.$t("addDuration"))+"\n            ")])])]),t._v(" "),e("div",{staticClass:"times-box mt-4 mb-4"},[t.clientDurations.length>0?e("section",[e("h6",[t._v(" "+t._s(t.$t("addedFeats2"))+" ")]),t._v(" "),t._l(t.clientDurations,(function(n){return e("div",{key:n.price,staticClass:"times-row-loop color-main d-flex justify-content-between"},[e("div",{staticClass:"time-price"},[t._v(" "+t._s(n.price)+" ر.س")]),t._v(" "),e("div",{staticClass:"time-price"},[t._v(" "+t._s(n.duration)+" ")]),t._v(" "),e("button",{staticClass:"attr-remove text-danger",attrs:{type:"button"},on:{click:function(e){return t.removeDuration(n.price)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])}))],2):e("section",[e("p",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("addedFeaEdi"))+" ")])])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.addOffer.apply(null,arguments)}}},[e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"font-bold"},[t._v(" "+t._s(t.$t("tripType"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.trip_type,expression:"trip_type"}],staticClass:"main-select",attrs:{name:"trip_type",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.trip_type=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"",selected:"",hidden:"",disabled:""}},[t._v("\n                  "+t._s(t.$t("DatePlace"))+"\n                ")]),t._v(" "),t._l(t.trips_types,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(" "+t._s(n.name)+" ")])}))],2),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","location-dot"]}})],1),t._v(" "),e("div",{staticClass:"icon-float2"},[e("font-awesome-icon",{attrs:{icon:["fas","chevron-down"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v(" "+t._s(t.$t("price"))+" ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.offer_price,expression:"offer_price"}],staticClass:"inp-spe-tele",attrs:{type:"number",placeholder:t.$t("hourPlace"),name:"offer_price",required:""},domProps:{value:t.offer_price},on:{input:function(e){e.target.composing||(t.offer_price=e.target.value)}}}),t._v(" "),e("div",{staticClass:"icon-float"},[e("font-awesome-icon",{attrs:{icon:["fas","sailboat"]}})],1)])]),t._v(" "),e("div",{staticClass:"mb-3 main-inp-cont"},[e("h6",{staticClass:"fontBold mainColor font14 font600"},[t._v("\n              "+t._s(t.$t("offerEnd"))+"\n            ")]),t._v(" "),e("div",{staticClass:"relative-co"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.finish_date,expression:"finish_date"}],staticClass:"inp-spe-tele",attrs:{type:"date",placeholder:t.$t("offerEnd"),name:"finish_date",required:""},domProps:{value:t.finish_date},on:{input:function(e){e.target.composing||(t.finish_date=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"right-just-flex mt-3 d-flex justify-content-end"},[e("button",{staticClass:"btn-main up lg"},[t._v("\n            "+t._s(t.$t("addOffer"))+"\n          ")])])]),t._v(" "),e("div",{staticClass:"times-box mt-4 mb-4"},[e("section",[e("h6",[t._v(" "+t._s(t.$t("addedFeats2"))+" ")]),t._v(" "),e("div",{staticClass:"table-offer table-offer2 font13"},[e("table",{staticClass:"table",attrs:{id:"myTable"}},[e("thead",[e("tr",[e("th",[t._v(" "+t._s(t.$t("tripType"))+" ")]),t._v(" "),e("th",[t._v(" "+t._s(t.$t("price"))+" ")]),t._v(" "),e("th",[t._v(" "+t._s(t.$t("offerEnd"))+" ")]),t._v(" "),e("th")])]),t._v(" "),t.clientOffers.length>0?e("tbody",t._l(t.clientOffers,(function(n){return e("tr",{key:n.price},[e("td",[e("span",{staticClass:"gray-col"},[t._v(" "+t._s(n.trip_type)+" ")])]),t._v(" "),e("td",[e("span",{staticClass:"gray-col"},[t._v(" "+t._s(n.price)+" ر.س / ساعة")])]),t._v(" "),e("td",{staticClass:"gray-col"},[t._v(" "+t._s(n.finish_date)+" ")]),t._v(" "),e("td",{staticClass:"red-col"},[e("button",{staticClass:"attr-remove text-danger",attrs:{type:"button"},on:{click:function(e){return t.removeOffer(n.price)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1)])])})),0):e("div",{staticClass:"d-flex justify-content-center"},[e("p",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("offerEdi"))+" ")])])])])])]),t._v(" "),e("div",{staticClass:"flex-groupme"},[e("button",{staticClass:"main-btn up mt-4 wid-85",attrs:{disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.sendOffer.apply(null,arguments)}}},[t._v("\n            "+t._s(t.$t("certain"))+"\n          ")])])])])}),[],!1,null,null,null);e.default=component.exports}}]);